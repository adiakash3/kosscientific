{% extends 'main/base.html'%}
{% load has_group %}
{% load maths %}
{% block title%}view instruction course{% endblock %}

{% block style%}

<!--write here css-->
{% endblock style%}

{% block script%}

$(document).ready(function () {
$('.dataTables-example').DataTable({
pageLength: 10,
responsive: true,
dom: '<"html5buttons"B>lTfgitp',
    buttons: []

    });

    });

    {% endblock %}




    {% block content %}
    <!--write main content here-->
{% block breadcrumbs %}
    <div class="breadcrumbs">
        <a href="{% url 'koscientific:home' %}">Home</a>

        / <a href="{% url 'koscientific:freepaper_list' %}">Free paper/E-Poster/Physical Poster List</a>
        / View

    </div>
{% endblock %}

    <div class="row">
        <div class="col-lg-12">
            <div class="ibox ">
                <div class="ibox-title">
                    <h3>Free Paper/E-Poster/Physical Poster Details</h3>
                    <span class="pull-right">
                        <button type="button" class="btn btn-primary" data-toggle="model">

                            <a href="{% url 'koscientific:freepaper_list'%}" class="text-white">Free
                                Paper/E-Poster/Physical Poster List</a>
                        </button>
                    </span>
                </div>

                <!-- table-start-here-->
                <div class="ibox-content">
                    <!--===============chief author=====================-->
                    <div class="ibox ">
                        <div class="ibox-title">
                            <div class="form-group  row">
                                <label class="col-sm-2 col-form-label control-label">Chief author's Name:</label>
                                <div class="col-sm-10">
                                    <div class="col-sm-9"> <input readonly
                                            value="{{free_paper_view.chief_author.user.first_name }} {{free_paper_view.chief_author.user.last_name }}"
                                            type="text" id="seel5" class="form-control"></div>
                                </div>
                            </div>
                            <div class="ibox-tools">
                                <a class="collapse-link">
                                    <i class="fa fa-chevron-up"></i>
                                </a>
                            </div>
                        </div>


                        <div class="ibox-content">
                            <div class="row" id="">
                                <label class="col-sm-3 col-form-label">
                                    E-mail</label>

                                <div class="col-sm-9"><input readonly
                                        value="{{free_paper_view.chief_author.user.email}}" type="text" id="sel4"
                                        class="form-control"></div>
                            </div>
                            <div class="row">
                                <label class="col-sm-3 col-form-label">
                                    Mobile Number</label>

                                <div class="col-sm-9">
                                    <input readonly value="{{free_paper_view.chief_author.mobile}}" type="text"
                                        id="sel5" class="form-control">
                                </div>
                            </div>
                            <div class="row"><label class="col-sm-3 col-form-label">
                                    KOS Number</label>
                                <div class="col-sm-9">
                                    <input value="{{free_paper_view.chief_author.kos_no}}" readonly type="text"
                                        id="sell6" class="form-control"></div>
                            </div>
                            <div class="row"><label class="col-sm-3 col-form-label">
                                    Gender</label>
                                <div class="col-sm-9">
                                    <input value="{{free_paper_view.chief_author.gender}}" readonly type="text"
                                        id="sel6" class="form-control">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--===============Presenting author=====================-->
                    <div class="ibox ">
                        <div class="ibox-title">
                            <div class="form-group  row">
                                <label class="col-sm-2 col-form-label control-label">Presenting author's Name:</label>
                                <div class="col-sm-10">
                                    <div class="col-sm-9"> <input readonly
                                            value="{{free_paper_view.presenting_auther_name.user.first_name }}"
                                            type="text" id="seel5" class="form-control"></div>
                                </div>
                            </div>
                            <div class="ibox-tools">
                                <a class="collapse-link">
                                    <i class="fa fa-chevron-up"></i>
                                </a>
                            </div>
                        </div>


                        <div class="ibox-content">
                            <div class="row" id="">
                                <label class="col-sm-3 col-form-label">
                                    E-mail</label>

                                <div class="col-sm-9"><input readonly
                                        value="{{free_paper_view.presenting_auther_name.user.email}}" type="text"
                                        id="sel4" class="form-control"></div>
                            </div>
                            <!--                                        <div class="hr-line-dashed"></div>-->
                            <div class="row"><label class="col-sm-3 col-form-label">
                                    Mobile Number</label>

                                <div class="col-sm-9"><input readonly
                                        value="{{free_paper_view.presenting_auther_name.mobile}}" type="text" id="sel5"
                                        class="form-control"></div>
                            </div>
                            <!--                                        <div class="hr-line-dashed"></div>-->
                            <div class="row"><label class="col-sm-3 col-form-label">
                                    KOS Number</label>
                                <div class="col-sm-9"><input value="{{free_paper_view.presenting_auther_name.kos_no}}"
                                        readonly type="text" id="sell6" class="form-control"></div>
                            </div>
                            <!--                                        <div class="hr-line-dashed"></div>-->
                            <div class="row"><label class="col-sm-3 col-form-label">
                                    Gender</label>
                                <div class="col-sm-9"><input value="{{free_paper_view.presenting_auther_name.gender}}"
                                        readonly type="text" id="sel6" class="form-control"></div>
                            </div>
                        </div>
                    </div>

                    {% for coauther_name in free_paper_view.coauther_name.all %}
                    <div class="ibox ">
                        <div class="ibox-title">
                            <div class="form-group  row">
                                <label class="col-sm-2 col-form-label control-label">Co author's Name:</label>
                                <div class="col-sm-10">
                                    <div class="col-sm-9"> <input readonly value="{{coauther_name.user.first_name }}"
                                            type="text" id="seel5" class="form-control"></div>
                                </div>
                            </div>
                            <div class="ibox-tools">
                                <a class="collapse-link">
                                    <i class="fa fa-chevron-up"></i>
                                </a>
                            </div>
                        </div>


                        <div class="ibox-content">
                            <div class="row" id="">
                                <label class="col-sm-3 col-form-label">
                                    E-mail</label>

                                <div class="col-sm-9"><input readonly value="{{coauther_name.user.email}}" type="text"
                                        id="sel4" class="form-control"></div>
                            </div>
                            <!--                                        <div class="hr-line-dashed"></div>-->
                            <div class="row"><label class="col-sm-3 col-form-label">
                                    Mobile Number</label>

                                <div class="col-sm-9"><input readonly value="{{coauther_name.mobile}}" type="text"
                                        id="sel5" class="form-control"></div>
                            </div>
                            <!--                                        <div class="hr-line-dashed"></div>-->
                            <div class="row"><label class="col-sm-3 col-form-label">
                                    KOS Number</label>
                                <div class="col-sm-9"><input value="{{coauther_name.kos_no}}" readonly type="text"
                                        id="sell6" class="form-control"></div>
                            </div>
                            <!--                                        <div class="hr-line-dashed"></div>-->
                            <div class="row"><label class="col-sm-3 col-form-label">
                                    Gender</label>
                                <div class="col-sm-9"><input value="{{coauther_name.gender}}" readonly type="text"
                                        id="sel6" class="form-control"></div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}

                    <!--=================================================-->
                    <!--==========start of non members co instructors====-->
                    <!--=================================================-->
                    {% for non_member in free_paper_view.non_members_free_paper_instructors.all %}
                    <div class="ibox ">
                        <div class="ibox-title">
                            <div class="form-group">
                                <label class="col-form-label control-label">Non members co instructors</label>

                            </div>
                            <div class="ibox-tools">
                                <a class="collapse-link">
                                    <i class="fa fa-chevron-up"></i>
                                </a>
                            </div>
                        </div>
                        <div class="ibox-content">
                            <div class="row">
                                <label class="col-sm-3 col-form-label">
                                    First name</label>

                                <div class="col-sm-9">
                                    <input readonly value="{{non_member.first_name}}" type="text" id="sel5"
                                        class="form-control"></div>
                            </div>
                            <div class="row">
                                <label class="col-sm-3 col-form-label">
                                    Last name</label>

                                <div class="col-sm-9">
                                    <input readonly value="{{non_member.last_name}}" type="text" id="sel5"
                                        class="form-control">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-sm-3 col-form-label">
                                    E-mail</label>

                                <div class="col-sm-9"><input readonly value="{{non_member.email}}" type="text" id="sel4"
                                        class="form-control"></div>
                            </div>
                            <div class="row">
                                <label class="col-sm-3 col-form-label">
                                    Mobile Number</label>

                                <div class="col-sm-9">
                                    <input readonly value="{{non_member.mobile_number}}" type="text" id="sel5"
                                        class="form-control"></div>
                            </div>
                            <div class="row">
                                <label class="col-sm-3 col-form-label">
                                    Qualification</label>

                                <div class="col-sm-9">
                                    <input readonly value="{{non_member.get_qualification_display}}" type="text"
                                        id="sel5" class="form-control">
                                </div>
                            </div>

                        </div>
                    </div>
                    {% endfor %}
                    <!--=================================================-->
                    <!--==========end of non members co instructors======-->
                    <!--=================================================-->

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover dataTables-example">
                            <tbody>
                                <tr>
                                    <th width="30%" class="p-1">Section</th>
                                    <td width="70%">{{free_paper_view.section.section_name}}</td>
                                </tr>
                                <tr>
                                    <th width="30%" class="p-1">Course</th>
                                    <td width="70%">
                                        {{ free_paper_view.title }}
                                    </td>
                                </tr>
                                <tr>
                                    <th width="30%" class="p-1">Types of presentation</th>
                                    <td width="70%">
                                        {{ free_paper_view.get_type_of_presentation_display }}
                                    </td>
                                </tr>

                                <tr>
                                    <th width="30%" class="p-1">Status</th>
                                    <td width="70%">
                                        {{ free_paper_view.status }}
                                    </td>
                                </tr>
                                <tr>
                                    <th width="30%" class="p-1">Event</th>
                                    <td width="70%">
                                        {{ free_paper_view.event}}
                                    </td>
                                </tr>
                                <tr>
                                    <th width="30%" class="p-1">Date</th>
                                    <td width="70%">
                                        {{ free_paper_view.date }}
                                    </td>
                                </tr>
                                <tr>
                                    <th width="30%" class="p-1">Unique ID</th>
                                    <td width="70%">
                                        {{ free_paper_view.unique_id }}
                                    </td>
                                </tr>
                                {% for assign  in free_paper_view.assignedfreepaper_set.all %}
                                    <tr>
                                        {% if request.user|has_group:"admin" %}
                                            <th width="30%" class="p-1">Evaluator {{ forloop.counter|num2words }}</th>
                                        {% else %}
                                            <th width="30%" class="p-1">Evaluator {{ forloop.counter|num2words }}</th>
                                        {% endif %}
                                        <td width="70%">
                                            {% if assign.marks %}
                                            marks: {{assign.marks}}/{{assign.ic_marks.count}}0
                                            {% else %}
                                                Not yet evaluated
                                            {% endif %}
                                           
                                        </td>
                                    </tr>
                                {% endfor %}
                                

                                <tr>
                                    <th width="30%" class="p-1">Total Marks</th>
                                    <td width="70%">
                                        {% if total_obtained_marks %}
                                            {{total_obtained_marks}}<span>/{{total_evaluator}}</span>
                                        {% else %}
                                            Evaluation pending
                                        {% endif %}
                                        
                                    </td>
                                </tr>
                                {% if section_rank %}
                                    <tr>
                                        <th width="30%" class="p-1">Section Rank</th>
                                        <td width="70%">
                                            
                                                {{section_rank.rank}}<span>/{{section_rank.out_of}}</span>
                                            
                                        </td>
                                    </tr>
                                {% endif %}
                                {% if over_all_rank %}
                                    <tr>
                                        <th width="30%" class="p-1">Over all Rank</th>
                                        <td width="70%">
                                                {{over_all_rank.rank}}<span>/{{over_all_rank.out_of}}</span>                                    
                                        </td>
                                    </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>

                </div>

                <!--table ends here-->
            </div>
        </div>
    </div>

    {% endblock %}